(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5fc39b94"],{a192:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"app-container"},[i("el-tree",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"tree",attrs:{data:t.data,"show-checkbox":"","default-expand-all":"","node-key":"id","highlight-current":"",props:t.defaultProps},on:{"node-contextmenu":t.showOperation,check:t.needParentGet}}),i("div",{staticClass:"buttons"},[i("el-button",{attrs:{type:"primary"},on:{click:t.addCategory}},[t._v("添加分类")]),i("el-button",{attrs:{disabled:t.editDisable},on:{click:t.editCategory}},[t._v("编辑分类")]),i("el-button",{attrs:{type:"danger"},on:{click:t.deleteCategory}},[t._v("删除分类")])],1),i("el-dialog",{attrs:{title:"create"===t.dialogStatus?"添加分类":"编辑分类",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[i("el-form",{attrs:{model:t.category}},[i("el-form-item",{attrs:{label:"分类名称","label-width":t.formLabelWidth}},[i("el-input",{attrs:{autocomplete:"off"},model:{value:t.category.name,callback:function(e){t.$set(t.category,"name",e)},expression:"category.name"}})],1)],1),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),i("el-button",{attrs:{type:"primary"},on:{click:function(e){"create"===t.dialogStatus?t.createData():t.updateData()}}},[t._v("确 定")])],1)],1),i("el-dialog",{staticClass:"text-center",attrs:{title:"提醒 ",visible:t.dialogHintVisible,center:"",width:"30%"},on:{"update:visible":function(e){t.dialogHintVisible=e}}},[i("span",{staticClass:"text-center"},[t._v(" 此操作会直接删除分类，可能造成数据不匹配，确定删除吗？ ")]),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.dialogHintVisible=!1}}},[t._v(" 取消 ")]),i("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.delData()}}},[t._v(" 确定 ")])],1)])],1)},o=[],n=i("c405"),l={data:function(){return{data:[],loading:!1,dialogStatus:"create",dialogFormVisible:!1,dialogHintVisible:!1,formLabelWidth:"120px",editDisable:!0,defaultProps:{children:"children",label:"name"},category:{id:"",name:"",parent_id:0},needParentId:0}},mounted:function(){this.getList()},methods:{addCategory:function(){console.log(this.needParentId),this.category={},this.dialogFormVisible=!0,this.dialogStatus="create"},editCategory:function(){console.log(this.needParentId),this.dialogFormVisible=!0,this.dialogStatus="update"},deleteCategory:function(){this.dialogHintVisible=!0},getList:function(){var t=this;this.loading=!0,Object(n["b"])().then((function(e){console.log(e),t.data=e.data,t.loading=!1}))},showOperation:function(t,e,i,a){console.log(e,i,a)},needParentGet:function(t,e){e.checkedNodes.length>0?(this.needParentId=t.id,this.category=t,this.editDisable=!1):(this.needParentId=0,this.editDisable=!0)},createData:function(){var t=this;this.category.parent_id=this.needParentId,Object(n["c"])(this.category).then((function(e){200===e.code&&(t.dialogFormVisible=!1,t.getList())}))},updateData:function(){var t=this;Object(n["d"])(this.category).then((function(e){200===e.code&&(t.dialogFormVisible=!1,t.getList())}))},delData:function(){var t=this;Object(n["a"])(this.category).then((function(e){200===e.code&&(t.dialogHintVisible=!1,t.getList())}))}}},r=l,s=i("2877"),c=Object(s["a"])(r,a,o,!1,null,null,null);e["default"]=c.exports},c405:function(t,e,i){"use strict";i.d(e,"c",(function(){return o})),i.d(e,"d",(function(){return n})),i.d(e,"b",(function(){return l})),i.d(e,"a",(function(){return r}));var a=i("b775");function o(t){return Object(a["a"])({url:"categories",method:"post",data:t})}function n(t){return Object(a["a"])({url:"categories",method:"put",data:t})}function l(t){return Object(a["a"])({url:"categories",method:"get",params:t})}function r(t){return Object(a["a"])({url:"categories",method:"delete",params:t})}}}]);